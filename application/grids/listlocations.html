<gridrow>
	<phpscript> 
		$count++; 

		$locationtype = $this->location_types_array[$location_type];
		$locations_with_patients_array = $view->locations_with_patients;


		$assigned_to_patient = '0';
		
		if(in_array($id,$locations_with_patients_array)){
			$assigned = "<span>!</span>";
			$assigned_class = 'class="location_assigned"';
			$assigned_to_patient = '1';
			
		} else{
			$assigned = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
			$assigned_class = '';
		}
		$user2location = $this->user2location;
		
		if($user2location == "1"){
			$assign_block = '	<a href="locations/users2location?id='.$id.'"> '.$view->translate('assign_user_link').'</a>';
		} else{
		$assign_block="";
		}
		
	</phpscript>
    <tr id="listlocations_trcontent[[count]]" class="row" >  
		<td valign="top"><input name="locationid[]" type="checkbox" value="[[id]]" id="[[id]]" class="loc_chk" data-assigned ="[[assigned_to_patient]]" onclick="checkassign([[id]])"/></td>
		<td valign="top" [[assigned_class]]>[[assigned]][[location]]</td>
		<td valign="top">[[locationtype]]</td>
		
		<td valign="top">
			<a href="locations/editlocations?id=[[id]]"><? echo $this->translate('edit'); ?></a> 
		[[assign_block]]
		
		</td>
	</tr>
</gridrow>
