<?php

/**
 * SurveyScheduledHistory
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    ISPC
 * @subpackage Application (2019-09-11)
 * @author     Ancuta <office@originalware.com>
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 * ISPC-2411
 */
class SurveyScheduledHistory extends BaseSurveyScheduledHistory
{            
    /**
     * translations are grouped into an array
     * @var unknown
     */
    const LANGUAGE_ARRAY    = 'surveyscheduledhistory_lang';
            
    /**
     * define the FORMID and FORMNAME, if you want to piggyback some triggers
     * @var unknown
     */
    const TRIGGER_FORMID    = null;
    const TRIGGER_FORMNAME  = 'frm_surveyscheduledhistory';
            
    /**
     * insert into patient_files will use this
     */
    const PATIENT_FILE_TABNAME  = 'SurveyScheduledHistory';
    const PATIENT_FILE_TITLE    = 'SurveyScheduledHistory PDF'; //this will be translated
            
    /**
     * insert into patient_course will use this
     */
    const PATIENT_COURSE_TITLE      = 'SurveyScheduledHistory PDF was created';
    const PATIENT_COURSE_TABNAME    = 'surveyscheduledhistory';
    const PATIENT_COURSE_TYPE       = ''; // add letter

    
    private static $mandatory_columns = array(
        'patient',
        'survey_id',
    );
    
    public function set_new_record($params = array())
    {
    
        if (empty($params) || !is_array($params)) {
            return false;// something went wrong
        }
    
        foreach (self::$mandatory_columns as $column) {
    
            if ( empty($params[$column]) &&  empty($this->{$column}) )
            {
                return false;
            }
        }
    
        foreach ($params as $k => $v)
            if (isset($this->{$k})) {
                $this->{$k} = $v;
            }
    
        $this->save();
    
        return $this->id;
    
    }
    

}