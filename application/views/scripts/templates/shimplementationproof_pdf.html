<h1><?php echo $this->translate('sh_implementation_proof_htitle'); ?></h1>
<br />
<h3><?php echo $this->last_name; ?>, <?php echo $this->first_name; ?> <?php echo $this->birthd; ?> <?php echo $this->translate('month'); ?>: <?php echo $this->month_year; ?></h3>
<br />


<table border="1"  width="100%" style="font-size:7pt;" cellpadding="2">
<!-- Days row -->
<tr>
	<td  width="150px" style="text-align: left;font-weight: bold; font-size:9pt;">SAPV<br/>Hausbesuche	
	</td>
	<?php foreach($this->selected_month_days as $k_month => $v_month): ?>
		<?php
			$is_current_day = '';
			$weekend = '';
			$holiday = '';

			if(in_array($v_month, $this->national_holidays)):
				$holiday = 'background-color: #9BC1E4;';
			else:
				$holiday = '';
			endif;

			if(date('N', strtotime($v_month)) == '6' || date('N', strtotime($v_month)) == '7'):
				$weekend = 'background-color: #9BC1E4;';
			else:
				$weekend = '';
			endif;

			if(strtotime($v_month) == strtotime(date('Y-m-d', time()))):
				$is_current_day = 'background-color: #FFFDD0;';
			else:
				$is_current_day = '';
			endif;
		?>
		<td style="font-size:9pt;width:37px;text-align: center;font-weight: bold;<?php echo $holiday.$is_current_day.$weekend; ?>">
			<br />
			<br />
			<?php echo date('d', strtotime($v_month));  ?>
		</td>
	<?php endforeach;  ?>
</tr>

<!-- Shortcuts-->
<?php $counter = 1; foreach($this->shortcuts as $k_short_a => $v_short_a):  ?>

	<?php 
	$bgg = "";
	if($v_short_a != "usage_1_new"){
	$bgg = ($counter + 1) % 2 ? '' : 'background-color: #D9D9D9;';
	}
?>
	<!-- Visits -->
	<?php if($v_short_a == 'spacer'): ?>
	<tr>
		<td colspan="<?php echo count($this->selected_month_days)+1; ?>">&nbsp;</td>
	</tr>
	<?php elseif($v_short_a == 'sh_title'): ?>
	<tr>
		<td colspan="<?php echo count($this->selected_month_days)+1; ?>" style="text-align: center;font-size:9pt;">
			<b><?php echo $this->translate('shortcut_name_sh_title'); ?></b>
		</td>
	</tr>
	<?php else: ?>
	<tr>
		<td style="font-size:9pt;<?php echo $bgg;?>">&nbsp;<br />
			<?php if($v_short_a != 'empty'): ?>
				<?php echo $this->translate('shortcut_name_'.$v_short_a); ?>
			<?php else: ?>
				&nbsp;
			<?php endif; ?>
		</td>
			<?php foreach ($this->selected_month_days as $k_month => $v_month): ?>
				<?php
					$is_current_day = '';
					$weekend = '';
					$holiday = '';

					if(in_array($v_month, $this->national_holidays)):
						$holiday = 'background-color: #FFCCCC;';
					else:
						$holiday = '';
					endif;

					if(date('N', strtotime($v_month)) == '6' || date('N', strtotime($v_month)) == '7'):
						$weekend = 'background-color: #FFCCCC;';
					else:
						$weekend = '';
					endif;

					if(strtotime($v_month) == strtotime(date('Y-m-d', time()))):
						$is_current_day = 'background-color: #FFFDD0;';
					else:
						$is_current_day = '';
					endif;
				?>
			<td style="text-align:center;<?php echo $bgg;?>" >
					&nbsp;<br />
					
					&nbsp;<br />
			</td>
			<?php endforeach; ?>
	</tr>
	<?php endif; ?>
<?php $counter++;  endforeach;  ?>
<!-- Days row -->
<tr>
	<td  width="150px" style="text-align: left;font-weight: bold; font-size:9pt;"></td>
	<?php foreach($this->selected_month_days as $k_month => $v_month): ?>
		<?php
			$is_current_day = '';
			$weekend = '';
			$holiday = '';

			if(in_array($v_month, $this->national_holidays)):
				$holiday = 'background-color: #9BC1E4;';
			else:
				$holiday = '';
			endif;

			if(date('N', strtotime($v_month)) == '6' || date('N', strtotime($v_month)) == '7'):
				$weekend = 'background-color: #9BC1E4;';
			else:
				$weekend = '';
			endif;

			if(strtotime($v_month) == strtotime(date('Y-m-d', time()))):
				$is_current_day = 'background-color: #FFFDD0;';
			else:
				$is_current_day = '';
			endif;
		?>
		<td style="font-size:9pt;width:37px;text-align: center;font-weight: bold;<?php echo $holiday.$is_current_day.$weekend; ?>">
			<br />
			<br />
			<?php echo date('d', strtotime($v_month));  ?>
		</td>
	<?php endforeach;  ?>
</tr>

</table>