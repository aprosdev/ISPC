<?php
	$this->headScript()->appendFile(RES_FILE_PATH . '/javascript/jgrowl/fileuploader.js?' . date('Ymd'));
	$this->headLink()->appendStylesheet(RES_FILE_PATH . '/javascript/jgrowl/filepatient.css?' . date('Ymd'));
	$this->headLink()->appendStylesheet(RES_FILE_PATH . '/css/homecare.css?' . date('Ymd'));
?>

<script type="text/javascript">
//	chg_icon
	$(document).ready(function () {
	    $('#chg_icon').on('change', function () {
		if($(this).is(':checked'))
		{
		    $('#upload_logo').toggle("slow");
		}
		else
		{
		    $('#upload_logo').toggle("slow");
		}
		$('input[type="submit"]').attr('disabled', $(this).is(':checked'));
	    })
	})
</script>
<!-- <div id="familydoctorlist_translateDiv" class="add">
	<ul id="FamDrli_ul">
		<li id="FamDrli_ul_li" class="back_list">
			<a href="homecare/homecarelist">&laquo; <? echo $this->translate('homecarelist'); ?></a>
		</li>
	</ul>
</div> -->
<a href="<?php echo $this->url(array('controller'=>'homecare' , 'action' => 'homecarelist' )); ?>"><?php echo $this->translate("back")?></a>
<form action="" method="post" name="frmfamilydoc" id="frmfamilydoc">
	<fieldset id="addFamDr_fieldset">

		<?php if($_REQUEST['id'] > '0'): ?>
				<legend><?php echo $this->translate('edithomecare'); ?></legend>
			<?php else: ?>
				<legend><?php echo $this->translate('addhomecare'); ?></legend>
		<?php endif; ?>
		<div id="addfamilydoctor_Msgerror" class="err"><?php echo $this->error_message ?></div>
		<br />
		<label for="client_name" id="addFamDr_TranClient_Lbl"><?php echo $this->translate('client_name') ?></label>

		<?php echo $this->inputbox; ?>
		<div id="addfamilydoctor_UserNameerror" class="error"><?php echo $this->error_username ?></div>
		<div class="clearer"></div>
		<br />

		<label for="practice" id="lbl_practice"><?php echo $this->translate('homecare_lbl') ?></label>
		<input type="text" name="homecare" tabindex="1" id="homecare" value="<?php echo $this->homecare; ?>" class="long_input">
		<div id="addfamilydoctor_practiceerror" class="error"><?php echo $this->error_nursing ?></div>
		<div class="clearer"></div>
		<br />

		<label for="title" id="lbl_title"><?php echo $this->translate('title') ?></label>
		<input type="text" name="title" tabindex="2" id="title" value="<?php echo $this->title ?>" class="long_input">
		<div id="addfamilydoctor_titleerror" class="error"> <?php echo $this->error_title ?></div>    <div class="clearer"></div>

		<label for="last_name" id="lbl_lastname"><?php echo $this->translate('lastname') ?></label>
		<input type="text" name="last_name" tabindex="3" id="last_name" value="<?php echo $this->last_name ?>" class="long_input">
		<div id="addfamilydoctor_lastNameerror" class="error"> <?php echo $this->error_last_name ?></div><div class="clearer"></div>


		<label for="first_name" id="lbl_firstname"><?php echo $this->translate('firstname') ?></label>
		<input type="text" name="first_name" id="first_name" tabindex="4" value="<?php echo $this->first_name ?>" class="long_input">
		<div id="addfamilydoctor_firstNameerror" class="error"><?php echo $this->error_first_name ?></div><div class="clearer"></div>

		<label for="salutation" id="lbl_salutation"><?php echo $this->translate('salutation'); ?></label>
		<input type="text" name="salutation" id="salutation" tabindex="5" value="<?php echo $this->salutation ?>" class="long_input">
		<div id="addfamilydoctor_salutationOneerror" class="error"><?php echo $this->error_salutation ?></div><div class="clearer"></div>
		
		<label for="street1" id="lbl_street1"><?php echo $this->translate('street1') ?></label>
		<input type="text" name="street1" id="street1" tabindex="5" value="<?php echo $this->street1 ?>" class="long_input">
		<div id="addfamilydoctor_streetOneerror" class="error"><?php echo $this->error_street1 ?></div><div class="clearer"></div>

		<label for="zip" id="lbl_postcode"><?php echo $this->translate('postcode') ?></label>
		<input type="text" name="zip" id="zip" tabindex="6" value="<?php echo $this->zip ?>" class="long_input">
		<div id="addfamilydoctor_ziperror" class="error"> <?php echo $this->error_zip ?></div><div class="clearer"></div>

		<label for="city" id="lbl_city"><?php echo $this->translate('city') ?></label>
		<input type="text" name="city" id="city" tabindex="7" value="<?php echo $this->city ?>" class="long_input">
		<div id="addfamilydoctor_cityerror" class="error"> <?php echo $this->error_city ?></div><div class="clearer"></div>

		<label for="phone_practice" id="lbl_phone_practice"><?php echo $this->translate('phone') ?></label>
		<input type="text" name="phone_practice" id="phone_practice" tabindex="8" value="<?php echo $this->phone_practice ?>" class="long_input">
		<div id="addfamilydoctor_phoneerror" class="error"> <?php echo $this->error_phone_practice ?></div><div class="clearer"></div>

		<label for="phone_private" id="lbl_phone_private"><?php echo $this->translate('phone_private') ?></label>
		<input type="text" name="phone_private" id="phone_private" tabindex="9" value="<?php echo $this->phone_private ?>" class="long_input">
		<div id="addfamilydoctor_Privatephoneerror" class="error"> <?php echo $this->error_phone_private ?></div><div class="clearer"></div>

		<label for="phone_emergency" id="lbl_phone_private"> Notruf Telefon</label>
		<input type="text" name="phone_emergency" id="phone_emergency" tabindex="10" value="<?php echo $this->phone_emergency ?>" class="long_input">
		<div id="addfamilydoctor_Privatephoneerror" class="error"> <?php echo $this->error_phone_emergency ?></div><div class="clearer"></div>

		<label for="fax" id="lbl_fax"><?php echo $this->translate('fax') ?></label>
		<input type="text" name="fax" id="fax" value="<?php echo $this->fax ?>" tabindex="11" class="long_input">
		<div id="addfamilydoctor_faxerror" class="error"> <?php echo $this->error_fax ?></div><div class="clearer"></div>

		<label for="email" id="lbl_email"><?php echo $this->translate('email') ?></label>
		<input type="text" name="email" id="email" value="<?php echo $this->email ?>" tabindex="12" class="long_input">
		<div id="addfamilydoctor_emailerror" class="error"> <?php echo $this->error_email ?></div><div class="clearer"></div>

		<label for="doctornumber" id="lbl_doctornumber"><?php echo $this->translate('doctornumber') ?></label>
		<input type="text" name="doctornumber" id="doctornumber" value="<?php echo $this->doctornumber ?>" tabindex="13" class="long_input">
		<div id="addfamilydoctor_doctornumberrror" class="error"> <?php echo $this->error_doctornumber ?></div><div class="clearer"></div>

		<label for="medical_speciality" id="lbl_medical_speciality"><?php echo $this->translate('medicalspeciality') ?></label>
		<input type="text" name="medical_speciality" id="medical_speciality" value="<?php echo $this->medical_speciality ?>" tabindex="14" class="long_input">
		<div id="addfamilydoctor_medical_speciality" class="error"> <?php echo $this->error_medical_speciality ?></div><div class="clearer"></div>

		<label for="ik_number" id="lbl_ik_number"><?php echo $this->translate('IK - Â­Nummer') ?></label>
		<input type="text" name="ik_number" id="ik_number" value="<?php echo $this->ik_number ?>" tabindex="15" class="long_input">
		<div id="addfamilydoctor_ik_number" class="error"> <?php echo $this->error_ik_number ?></div><div class="clearer"></div>

		<label for="fdcomments" id="lbl_fdcomments"><?php echo $this->translate('comment') ?></label>
		<textarea name="comments" id="fdcomments" cols="20" rows="5" tabindex="16" class="long_input"><?php echo $this->comments ?></textarea>
		<div id="addfamilydoctor_commentserror" class="error"> <?php echo $this->error_comments ?></div>
		<div class="clearer"></div>
		<?php if($_REQUEST['id'] > '0' && strlen($this->logo) > '0'): ?>
				<div>
					<label for="chg_icon" class="form_label"><?php echo $this->translate('icon_preview'); ?></label>
					<div class="icon_preview" style="vertical-align: middle;">
						<img src="<?php echo APP_BASE; ?>/icons_system/<?php echo $this->logo; ?>" width="25" >
						<br>
						<br>
						<label for="remove_icon" class="form_label"><?php echo $this->translate('remove_icon'); ?></label>
						<input type="checkbox" name="remove_icon" id="remove_icon" value="1"  tabindex="17"/>
					</div>
				</div>
				<div class="clearer"></div>
			<?php endif; ?>

		<?php if($_REQUEST['id'] > '0' && strlen($this->logo) > '0'): ?>
				<label for="chg_icon" id="lbl_fdcomments"><?php echo $this->translate('change_icon'); ?></label>
			<?php else: ?>
				<label for="chg_icon" id="lbl_fdcomments"><?php echo $this->translate('add_icon'); ?></label>
		<?php endif; ?>
		<input type="checkbox" name="chg_icon" id="chg_icon" value="1"  tabindex="18"/>
		<div class="clearer"></div>

		<div id="upload_logo" style="display: none;">
			<label id="lbl_medical_speciality"><?php echo $this->translate('upload_logo'); ?></label>
			<div id="file-uploader-demo1">
				<noscript>
				Please enable JavaScript to use file uploader.
				</noscript>
			</div>
			<script>
		    function createUploader() {
			var uploader = new qq.FileUploader({
			    element: document.getElementById('file-uploader-demo1'),
			    action: appbase + 'iconsystem/iconimageupload',
			    params: {'op': 'homecare'},
			    allowedExtensions: ['jpg', 'png', 'gif', 'jpeg'],
			    onSubmit: function (id, fileName) {
				$('input[type="submit"]').attr("disabled", "true");
			    },
			    onComplete: function (id, fileName, responseJSON) {
				if(responseJSON.success === true)
				{
				    $('input[type="submit"]').removeAttr("disabled");
				}
			    }
			});
		    }

		    // in your app create uploader as soon as the DOM is ready
		    // don't wait for the window to load
		    window.onload = createUploader;
			</script>
		</div>



		<label for="btnsubmit" id="lbl_btnSubmit"></label>
		<input type="submit" name="btnsubmit" id="btnsubmit" class="button" tabindex="19" value="<?php echo $this->translate('submit') ?>">

	</fieldset>
</form>
